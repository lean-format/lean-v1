"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{4252:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(4568),r=i(7620);let s={INDENT:"INDENT",DEDENT:"DEDENT",NEWLINE:"NEWLINE",IDENTIFIER:"IDENTIFIER",STRING:"STRING",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",NULL:"NULL",COLON:"COLON",HYPHEN:"HYPHEN",COMMA:"COMMA",LPAREN:"LPAREN",RPAREN:"RPAREN",EOF:"EOF"};class o{constructor(e,t,i,n){this.type=e,this.value=t,this.line=i,this.column=n}}class a{tokenize(){for(;this.pos<this.input.length;){let e=this.peek();if("\n"===e){this.addToken(s.NEWLINE,"\n"),this.advance(),this.line++,this.column=1,this.indentationHandled=!1,this.isStartOfLine=!0;continue}if(1===this.column&&!this.indentationHandled){if(this.handleIndentation(),this.indentationHandled=!0,this.pos>=this.input.length)break;continue}if(" "===e||"	"===e){this.advance();continue}if("#"===e&&"#"===e){this.skipComment();continue}if(":"===e){this.addToken(s.COLON,":"),this.advance();continue}if("-"===e){this.isNextDigit()?this.readNumber():(this.addToken(s.HYPHEN,"-"),this.advance());continue}if(","===e){this.addToken(s.COMMA,","),this.advance();continue}if("("===e){this.addToken(s.LPAREN,"("),this.advance();continue}if(")"===e){this.addToken(s.RPAREN,")"),this.advance();continue}if('"'===e){this.readString();continue}if(this.isDigit(e)){this.readNumber();continue}if(this.isIdentifierStart(e)){this.readIdentifier();continue}throw Error("Unexpected character '".concat(e,"' at line ").concat(this.line,", column ").concat(this.column))}for(;this.indentStack.length>1;)this.indentStack.pop(),this.addToken(s.DEDENT,"");return this.addToken(s.EOF,""),this.tokens}handleIndentation(){let e=0,t=this.pos;for(;t<this.input.length;){let i=this.input[t];if(" "===i||"	"===i){if(null===this.indentChar)this.indentChar=i;else if(i!==this.indentChar)throw Error("Mixed indentation (spaces and tabs) at line ".concat(this.line));" "===i?e++:e+=4}else break;t++}if(t>=this.input.length||"\n"===this.input[t]||"#"===this.input[t]){let e=t-this.pos;this.pos=t,this.column+=e;return}let i=this.indentStack[this.indentStack.length-1];if(e>i)this.indentStack.push(e),this.addToken(s.INDENT,e);else if(e<i)for(;this.indentStack.length>1&&this.indentStack[this.indentStack.length-1]>e;)this.indentStack.pop(),this.addToken(s.DEDENT,"");let n=t-this.pos;this.pos=t,this.column+=n}skipComment(){for(;this.pos<this.input.length&&"\n"!==this.peek();)this.advance()}readString(){let e="";for(this.advance();this.pos<this.input.length;){let t=this.peek();if('"'===t){this.advance(),this.addToken(s.STRING,e);return}if("\\"===t){this.advance();let t=this.peek();e+=({n:"\n",r:"\r",t:"	","\\":"\\",'"':'"'})[t]||t,this.advance()}else e+=t,this.advance()}throw Error("Unterminated string at line ".concat(this.line))}readNumber(){let e="";for("-"===this.peek()&&(e+="-",this.advance());this.pos<this.input.length&&(this.isDigit(this.peek())||"."===this.peek()||"e"===this.peek()||"E"===this.peek());)e+=this.peek(),this.advance();this.addToken(s.NUMBER,parseFloat(e))}readIdentifier(){let e="";for(;this.pos<this.input.length&&this.isIdentifierPart(this.peek());)e+=this.peek(),this.advance();"true"===e?this.addToken(s.BOOLEAN,!0):"false"===e?this.addToken(s.BOOLEAN,!1):"null"===e?this.addToken(s.NULL,null):(e.includes("."),this.addToken(s.IDENTIFIER,e))}peek(){return this.input[this.pos]}advance(){this.pos++,this.column++}addToken(e,t){this.tokens.push(new o(e,t,this.line,this.column)),e!==s.INDENT&&e!==s.DEDENT&&e!==s.NEWLINE&&e!==s.EOF&&(this.isStartOfLine=!1)}isDigit(e){return/[0-9]/.test(e)}isNextDigit(){return this.pos+1<this.input.length&&this.isDigit(this.input[this.pos+1])}isIdentifierStart(e){return/[a-zA-Z_$]/.test(e)}isIdentifierPart(e){return"#"===e||/[-a-zA-Z0-9_$.@]/.test(e)}constructor(e){this.input=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.pos=0,this.line=1,this.column=1,this.indentStack=[0],this.tokens=[],this.indentationHandled=!1,this.isStartOfLine=!0,this.indentChar=null}}class l{parse(e){let t=new a(e);this.tokens=t.tokenize(),this.pos=0;let i=this.parseBlock();if(this.peek().type!==s.EOF)throw Error("Unexpected token after end of document: ".concat(this.peek().type));return i}parseBlock(){let e={};for(;this.peek().type!==s.EOF&&this.peek().type!==s.DEDENT;){if(this.peek().type===s.INDENT)throw Error("Unexpected indentation at document root (or inside block) at line ".concat(this.peek().line));if(this.peek().type===s.NEWLINE){this.advance();continue}let t=this.parseItem();t&&this.deepMerge(e,t)}return e}deepMerge(e,t){for(let i in t)t[i]instanceof Object&&i in e&&e[i]instanceof Object&&!Array.isArray(e[i])&&!Array.isArray(t[i])?this.deepMerge(e[i],t[i]):e[i]=t[i]}parseItem(){let e=this.peek();if(e.type===s.HYPHEN)throw Error("Unexpected list item at line ".concat(e.line,". Expected key."));if(e.type!==s.IDENTIFIER&&e.type!==s.STRING)throw Error("Expected key-value pair or row syntax (identifier) at line ".concat(e.line,", found ").concat(e.type));let t=e.value;if(this.advance(),this.peek().type===s.LPAREN)return this.parseRowList(t);if(this.peek().type!==s.COLON)throw Error("Expected ':' after key at line ".concat(e.line));this.advance();let i=this.parseValue();return"string"==typeof t&&t.includes(".")?this.expandDotNotation(t,i):{[t]:i}}parseRowList(e){this.consume(s.LPAREN);let t=[];for(;this.peek().type!==s.RPAREN;){let e=this.consume(s.IDENTIFIER).value;t.push(e),this.peek().type===s.COMMA&&this.advance()}if(this.consume(s.RPAREN),this.consume(s.COLON),this.peek().type===s.NEWLINE)this.advance();else if(this.peek().type===s.EOF);else throw Error("Expected NEWLINE or EOF after colon at line ".concat(this.peek().line));if(this.peek().type!==s.INDENT)return this.peek().type===s.EOF,{[e]:[]};this.consume(s.INDENT);let i=[];for(;this.peek().type===s.HYPHEN;){this.advance();let e={},n=[];for(;this.peek().type!==s.NEWLINE&&this.peek().type!==s.EOF;)if(n.push(this.parseSimpleValue()),this.peek().type===s.COMMA)this.advance();else break;if(this.strict&&n.length>t.length)throw Error("Row has ".concat(n.length," values but header defines ").concat(t.length," columns at line ").concat(this.peek().line));t.forEach((t,i)=>{e[t]=i<n.length?n[i]:null}),i.push(e),this.peek().type===s.NEWLINE&&this.advance()}return(this.consume(s.DEDENT),"string"==typeof e&&e.includes("."))?this.expandDotNotation(e,i):{[e]:i}}parseValue(){if(this.peek().type===s.NEWLINE){if(this.advance(),this.peek().type!==s.INDENT)return null;if(this.advance(),this.peek().type===s.HYPHEN){let e=this.parseList();return this.consume(s.DEDENT),e}{let e=this.parseBlock();return this.consume(s.DEDENT),e}}return this.peek().type===s.EOF||this.peek().type===s.DEDENT?null:this.parseSimpleValue()}parseList(){let e=[];for(;this.peek().type===s.HYPHEN;)this.advance(),this.peek().type===s.NEWLINE?(this.advance(),this.consume(s.INDENT),this.peek().type===s.HYPHEN?e.push(this.parseList()):e.push(this.parseBlock()),this.consume(s.DEDENT)):(e.push(this.parseSimpleValue()),this.peek().type===s.NEWLINE&&this.advance());return e}parseSimpleValue(){let e=this.peek();switch(this.advance(),e.type){case s.STRING:case s.NUMBER:case s.BOOLEAN:case s.NULL:case s.IDENTIFIER:return e.value;default:throw Error("Unexpected token for value: ".concat(e.type," at line ").concat(e.line))}}expandDotNotation(e,t){let i=e.split("."),n=t;for(let e=i.length-1;e>=0;e--)n={[i[e]]:n};return n}mergeIntoResult(e,t){for(let[i,n]of Object.entries(t))"object"!=typeof n||null===n||Array.isArray(n)?e[i]=n:(e[i]||(e[i]={}),"object"!=typeof e[i]||Array.isArray(e[i])?e[i]=n:this.mergeIntoResult(e[i],n))}peek(){return this.tokens[this.pos]}advance(){this.pos++}consume(e){if(this.peek().type===e){let e=this.peek();return this.advance(),e}throw Error("Expected ".concat(e," but found ").concat(this.peek().type," at line ").concat(this.peek().line))}constructor(e={}){this.strict=e.strict||!1,this.tokens=[],this.pos=0}}class c{serialize(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{indent:i="  ",useRowSyntax:n=!0,rowThreshold:r=1}=t;function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e)return"null";if("boolean"==typeof e||"number"==typeof e)return e.toString();if("string"==typeof e)return/[\s,:[\]{}#]/.test(e)||/^[0-9-]/.test(e)||"true"===e||"false"===e||"null"===e?'"'.concat(e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'"'):e;return Array.isArray(e)?function(e,t){if(0===e.length)return"";let a=i.repeat(t+1);if(n&&e.length>=r&&e.every(e=>"object"==typeof e&&null!==e&&!Array.isArray(e))){let i=Object.keys(e[0]);if(e.every(e=>{let t=Object.keys(e);return t.length===i.length&&i.every(e=>t.includes(e))})&&i.length>0){let n="\n";return e.forEach(e=>{let r=i.map(i=>s(e[i],t+1));n+="".concat(a,"- ").concat(r.join(", "),"\n")}),n}}let l="\n";return e.forEach(e=>{"object"!=typeof e||null===e||Array.isArray(e)?l+="".concat(a,"- ").concat(s(e,t+1),"\n"):(l+="".concat(a,"-\n"),l+=o(e,t+2))}),l}(e,t):"object"==typeof e?o(e,t):"null"}function o(e,t){let o=Object.entries(Object.keys(e).some(e=>e.includes("."))?e:function e(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).reduce((n,r)=>{let s=i.length?i+".":"";return"object"!=typeof t[r]||null===t[r]||Array.isArray(t[r])?n[s+r]=t[r]:Object.assign(n,e(t[r],s+r)),n},{})}(e));if(0===o.length)return"{}";o.sort((e,t)=>{let[i]=e,[n]=t;return i.localeCompare(n)});let a=i.repeat(t),l="";for(let[e,c]of o){if(Array.isArray(c)&&c.length>0&&c.every(e=>"object"==typeof e&&null!==e&&!Array.isArray(e))){let o=Object.keys(c[0]),h=c.every(e=>{let t=Object.keys(e);return t.length===o.length&&o.every(e=>t.includes(e))});if(n&&h&&o.length>0&&c.length>=r){l+="".concat(a).concat(e,"(").concat(o.join(", "),"):\n"),c.forEach(e=>{let n=o.map(i=>s(e[i],t+1));l+="".concat(i.repeat(t+1),"- ").concat(n.join(", "),"\n")});continue}}let o=s(c,t);o.startsWith("\n")?l+="".concat(a).concat(e,":").concat(o):l+="".concat(a).concat(e,": ").concat(o,"\n")}return l}return o(e,0).trimEnd()}(e,this.options)}constructor(e={}){this.options=e}}let h={simple:'user:\n    name: Alice\n    age: 30\n    email: "alice@example.com"\n    active: true',users:'users(id, name, email, age, active):\n    - 1, Alice, "alice@example.com", 30, true\n    - 2, Bob, "bob@example.com", 25, false\n    - 3, Casey, "casey@example.com", 28, true',blog:'blog:\n    title: "Tech Insights"\n    author: Alice\n    tags:\n        - technology\n        - programming\n        - ai\n    posts(id, title, date, views):\n        - 1, "Getting Started with LEAN", "2025-01-15", 1250\n        - 2, "Why Data Formats Matter", "2025-02-01", 890\n        - 3, "Building Better APIs", "2025-02-15", 2100',nested:'blog:\n    title: "My Blog"\n    author:\n        name: Alice\n        email: "alice@example.com"\n    posts(id, title, content):\n        - 1, "First Post", "Hello, world!"\n        - 2, "Second Post", "Another post"\n    tags:\n        - tech\n        - programming\n        - blog'};function d(){let[e,t]=(0,r.useState)('users(id, name, email, age):\n    - 1, Alice, "alice@example.com", 30\n    - 2, Bob, "bob@example.com", 25\n    - 3, Casey, "casey@example.com", 28'),[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)("lean"),[d,p]=(0,r.useState)("json"),[u,f]=(0,r.useState)(4),[m,y]=(0,r.useState)(!1),[g,k]=(0,r.useState)(!1),[E,N]=(0,r.useState)(!1),x=async(e,t)=>{try{await navigator.clipboard.writeText(e),t?(k(!0),setTimeout(()=>k(!1),2e3)):(N(!0),setTimeout(()=>N(!1),2e3))}catch(e){console.error("Failed to copy:",e)}},b=(0,r.useMemo)(()=>{if(!e.trim())return s(""),"";try{let t;if(t="lean"===o?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new l(t).parse(e)}(e):JSON.parse(e),"lean"!==d)return s(""),JSON.stringify(t,null,2);{let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new c(t).serialize(e)}(t,{indent:m?"	":" ".repeat(u),useRowSyntax:!0,rowThreshold:3});return s(""),e}}catch(e){return s(e.message),""}},[e,o,d,u,m]);return(0,n.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif'},children:[(0,n.jsxs)("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[(0,n.jsx)("h1",{style:{color:"#2d3748",marginBottom:"0.5rem"},children:"LEAN Playground Lite"}),(0,n.jsxs)("p",{style:{fontSize:"0.9rem",color:"#718096",marginBottom:"1rem"},children:["Experience the full power of LEAN in our ",(0,n.jsx)("a",{href:"https://lean-format.github.io/lean-v1/playground/",style:{color:"#e53e3e",textDecoration:"none",fontWeight:"500"},onMouseOver:e=>{e.currentTarget.style.textDecoration="underline"},onMouseOut:e=>{e.currentTarget.style.textDecoration="none"},children:"[Advanced Playground]"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1.5rem",justifyContent:"center",flexWrap:"wrap",marginBottom:"1.5rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("label",{style:{fontSize:"0.9rem",color:"#4a5568"},children:"Examples:"}),(0,n.jsxs)("select",{onChange:e=>{var i;(i=e.target.value)&&(t(h[i]),a("lean"))},style:{padding:"0.25rem 0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",backgroundColor:"white"},children:[(0,n.jsx)("option",{value:"",children:"Select an example"}),(0,n.jsx)("option",{value:"simple",children:"Simple Object"}),(0,n.jsx)("option",{value:"users",children:"User List"}),(0,n.jsx)("option",{value:"nested",children:"Nested Structure"})]})]}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,n.jsxs)("label",{style:{fontSize:"0.9rem",color:"#4a5568"},children:["Indent:",(0,n.jsx)("input",{type:"number",min:"1",max:"8",value:u,onChange:e=>{f(parseInt(e.target.value,10))},disabled:m,style:{width:"60px",padding:"0.25rem 0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",marginLeft:"0.5rem"}})]})}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,n.jsxs)("label",{style:{fontSize:"0.9rem",color:"#4a5568"},children:[(0,n.jsx)("input",{type:"checkbox",checked:m,onChange:e=>{y(e.target.checked)},style:{marginRight:"0.5rem"}}),"Use tabs"]})})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",height:"70vh"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",background:"white",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1rem",background:"#f7fafc",borderBottom:"1px solid #e2e8f0",height:"48px"},children:[(0,n.jsx)("h2",{style:{margin:0,fontSize:"1rem",color:"#4a5568"},children:"Input"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,n.jsx)("button",{onClick:()=>x(e,!0),style:{padding:"0.25rem 0.75rem",border:"1px solid #e2e8f0",background:g?"#48bb78":"white",color:g?"white":"#4a5568",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:g?"✓ Copied":"\uD83D\uDCCB Copy"}),(0,n.jsx)("button",{onClick:()=>a("lean"),style:{padding:"0.25rem 0.75rem",border:"1px solid #e2e8f0",background:"lean"===o?"#3182ce":"white",color:"lean"===o?"white":"inherit",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"LEAN"}),(0,n.jsx)("button",{onClick:()=>a("json"),style:{padding:"0.25rem 0.75rem",border:"1px solid #e2e8f0",background:"json"===o?"#3182ce":"white",color:"json"===o?"white":"inherit",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"JSON"})]})]}),(0,n.jsx)("textarea",{value:e,onChange:e=>{t(e.target.value)},spellCheck:"false",style:{flex:1,padding:"1rem",border:"none",resize:"none",fontFamily:'"Fira Code", "Courier New", Courier, monospace',fontSize:"0.9rem",lineHeight:"1.5",background:"white",color:"#2d3748"}})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",background:"white",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1rem",background:"#f7fafc",borderBottom:"1px solid #e2e8f0",height:"48px"},children:[(0,n.jsx)("h2",{style:{margin:0,fontSize:"1rem",color:"#4a5568"},children:"Output"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,n.jsx)("button",{onClick:()=>x(b,!1),disabled:!!i||!b,style:{padding:"0.25rem 0.75rem",border:"1px solid #e2e8f0",background:E?"#48bb78":i||!b?"#f7fafc":"white",color:E?"white":i||!b?"#cbd5e0":"#4a5568",borderRadius:"4px",cursor:i||!b?"not-allowed":"pointer",fontSize:"0.8rem"},children:E?"✓ Copied":"\uD83D\uDCCB Copy"}),(0,n.jsx)("button",{onClick:()=>p("lean"),style:{padding:"0.25rem 0.75rem",border:"1px solid #e2e8f0",background:"lean"===d?"#3182ce":"white",color:"lean"===d?"white":"inherit",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"LEAN"}),(0,n.jsx)("button",{onClick:()=>p("json"),style:{padding:"0.25rem 0.75rem",border:"1px solid #e2e8f0",background:"json"===d?"#3182ce":"white",color:"json"===d?"white":"inherit",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"JSON"})]})]}),(0,n.jsx)("div",{style:{flex:1,padding:"1rem",overflow:"auto",background:"white"},children:i?(0,n.jsx)("div",{style:{color:"#e53e3e",padding:"1rem",background:"#fff5f5",borderRadius:"4px",whiteSpace:"pre-wrap",fontFamily:'"Fira Code", "Courier New", Courier, monospace',fontSize:"0.9rem",lineHeight:"1.5"},children:i}):(0,n.jsx)("pre",{style:{margin:0,fontFamily:'"Fira Code", "Courier New", Courier, monospace',whiteSpace:"pre-wrap",wordWrap:"break-word",fontSize:"0.9rem",lineHeight:"1.5",color:"#2d3748"},children:b})})]})]})]})}}}]);